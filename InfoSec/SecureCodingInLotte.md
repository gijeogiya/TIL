# 시큐어 코딩(Secure Coding)
2024.06.27
## 1. 정보보안의 개요
### 네트워크
- 네트워크
- 병렬 처리가 가능해지고 성능의 햐상
- 네트워크(특히 인터넷) 상에 다양한 서비스 가능
### 네트워크의 역사
- 1960년대 말 미국방성에서 여러 고성능 컴퓨터를 네트워크로 묶는 작업을 시작
- 1980년대 초 TCP/IP 프로토콜 개발
- 유선 --> 무선 --> 모바일 인터넷의 발달
- 20여년 동안 네트워크는 비약적으로 발전하여 현대 생활의 일부가 되었음
### 네트워크의 개요와 시작
- 네트워크
- 모뎀의 개발과 네트워크의 시작
### 장거리 컴퓨터 통신과 인터넷
- 장거리 컴퓨터 통신과 인터넷의 시작
- 버너스-리의 웹 개념: 서로 다른 컴퓨터끼리 정보를 공유하고 서로 링크하여 찾기 쉬운 **하이퍼텍스트** 형태의 서비스를 도입하자는 것
### 보안의 3대 요소
- 보안은 기밀성, 무결성, 가용성이라는 세 가지 속성으로 집약
### 기밀성
- 보안에서 기밀성
  - 인가된 사용자만 정보 자산에 접근할 수 있다는 것
  - 기밀성 예는 보안 관련 시스템과 소프트웨어, 방화벽, 암호, 패스워드
- 네트워크 보안에서 기밀성
  - 서버와 클라이언트 간, 서버와 서버 간, 클라이언트와 클라이언트 간의 통신에서 허락되지 않은 사용자 또는 객체가 정보의 내용을 알 수 없도록 하는 것
  - 기밀성을 해치는 공격은 스니핑
### 무결성
- 보안에서 무결성
  - 권한을 가진 사용자가 인가한 방법으로만 정보를 변경할 수 있도록 하는 것
  - 무결성 해치는 예는 위조 지폐
- 네트워크 보안에서 무결성
  - 클라이언트와 서버 가느이 데이터가 변조되지 않고 전송되는가
  - 무결성을 해치는 공격은 세션 하이재킹
### 가용성
- 보안에서 가용성
  - 필요한 시점에서 정보 자산에 대한 접근이 가능하도록 하는 것
  - 가용성을 상품화한 예는 24시간 편의점
- 네트워크 보안에서 가용성
  - 허락된 사용자 또는 객체가 네트워크를 통해 정보에 접근하려고 할 때 방해 받지 않도록 하는 것
  - 가용성을 해치치는 공격은 서비스 거부 공격(DoS)
### 네트워크 보안의 5대 요소
- 정보 보안의 3대 요소
  - 기밀성
  - 무결성
  - 가용성
- 추가 요소
  - 서버 인증
  - 클라이언트 인증
### 네트워크 보안에서 서버 인증
- 클라이언트가 올바른 서버로 접속하는가
- 올바른 클라이언트가 접속을 시도하는가
### 보안 전문가의 자격 요건
- 사이버 범죄의 유형
  - 사이버 테러형 범죄
  - 일반 사이버 범죄
- 윤리 강령
- 윤리 의식
  - 정보통신망 이용촉진 및 정보보호 등에 관한 법률
  - 정보통신기반 보호법
  - 클라우드 컴퓨팅법
  - 전자정부법
- 다양한 분야의 지식
  - 운영체제
  - 네트워크
  - 프로그래밍
  - 서버
  - 보안 솔루션
  - 모니터링 시스템
  - 정책과 절차
## 2. 시스템 보안
### 시스템
- 시스템은 하드웨어뿐만 아니라 소프트웨어까지 매우 많은 것을 포괄
- 계정 관리
- 세션 관리
- 접근 관리
- 권한 관리
- 로그 관리
- 취약점 관리
### 계정 관리
- 식별과 인증
  - 식별: 어떤 시스템에 로그인하려면 먼저 자신이 누군지를 알림
  - 인증: 로그인을 허용하기 위한 확인
- 보안의 네 가지 인증 방법
  - 알고 있는 것: 머릿속에 기억하고 있는 정보를 이용하여 인증 수행
  - 가지고 있는 것: 신분증이나 OTP 장치 등으로 인증 수행
  - 자신의 모습: 홍채와 같은 생체 정보로 인증 수행
  - 위치하는 곳: 현재 접속을 시도하는 위치의 적절성을 확인하거나 콜백을 사용해 인증 수행(휴대폰 인증번호 등)
### 운영체제의 계정 관리
- 운영체제: 시스템을 구성하고 운영하기 위한 가장 기본적인 소프트웨어
- 윈도우의 계정 관리
  - 관리자 계정: administrator / 시스템에 가장 기본으로 설치되는 계정
- 윈도우의 계정 관리
- 유닉스의 계정 관리
  - 기본 관리자 계정으로 root가 존재
- 데이터베이스의 계정 관리
- 응용 프로그램의 계정 관리
- 네트워크 장비의 계정 관리
### 세션
- 세션의 개요
  - '사용자와 시스템 사이 또는 두 시스템 사이의 활성화된 접속'을 의미
  - 동화 <해님 달님>의 이야기
- 지속적인 인증
  - 세션을 유지하기 위한 보안 사항 중 하나
  - 인증에 성공한 후 인증된 사용자가 처음의 사용자인지 지속적으로 재인증 작업을 거치는 작업
  - 매번 패스워드를 입력 할 수 없으므로 시스템은 이를 세션에 대한 타임아웃 설정으로 보완
  - 반면 유닉스는 원격에서 접속한 경우 패스워드를 다시 묻지 않고 세션을 종료한 후 재접속할 것을 요구
### 접근 제어
- 접근 제어: 적절한 권한을 가진 인가자만 특정 시스템이나 정보에 접근하도록 통제하는 것
### 운영체제의 접근 제어
- 불필요한 인터페이스 제거
- inetd 데몬: 데몬과 클라이언트의 요청을 연결
- tcpd 데몬은 접속을 요구한 클라이언트에 적절한 접근 권한이 있는지 확인한 후 해당 데몬에 연결을 넘겨줌
### 데이터베이스의 접근 제어
- 데이터베이스
  - 오라클: $ORACLE_HOME/network/admin/sqlnet.ora
### 응용 프로그램의 접근 제어
- NGINX
- 네트워크 장비
### 운영체제의 권한 관리
- 원도우
- 유닉스
### 데이터베이스의 권한 관리
- 질의문에 대한 권한 관리
- DDL과 DML은 DCL에 의해 허용 또는 거부
- 뷰에 대한 권한 관리
  - 뷰: 참조 테이블의 각 열에 대해 사용자의 권한을 설정하는 것이 불편해서 만든 가상 테이블
  - 생성된 뷰에 대한 권한 설정은 테이블에 대한 권한 설정과 같음
### 취양점 관리
- 패치 관리
  - 응용 프로그램을 만든 제작사가 배포하는 패치 또는 서비스 팩을 적용
- 응용프로그램별 고유 위험 관리
  - 응용 프로그램을 통해 운영체제의 파일이나 명령을 실행시킬 수 있는 것이 있음
- 응용 프로그램의 정보 수집 제한
## 4. 로그 관리
### 로그 관리의 개요
- AAA 요소
  - 시스템 사용자가 로그인한 후 명령을 내리는 과정에 대한 시스템의 동작
  - 로그를 남기는 모든 시스템에 존재
  - AAA에 대한 로그 정보는 해커나 시스템에 접근한 악의적인 사용자를 추적하는데 많은 도움이 됨
  - 책임 추적성: 추적에 대한 기록의 충실도
  - 감사 추적: 보안과 관련하여 시간대별 이벤트를 기록한 로그
- Authentication (인증)
  - 자신의 신원을 시스템에 증명하는 것
- Accounting
  - 로그인했을 때 시스템이 이에 대한 기록을 남기는 활동
  - 객체나 파일에 접근한 기록
### 운영체제의 로그 관리
- 윈도우의 로그
  - 윈도우 서버 2012의 경우 로깅 항목과 설정 사항은 [로컬 보안 정책] 대화상ㅇ자의 [감사 정책] 메뉴에서 확인
  - 로깅 정책
  - 개별 로그
  - 윈도우의 감사 정책
- 유닉스의 로그
  - 유닉스 시스템의 로그 저장 위치
    - 일반적으로 리눅스에서는 /var/log 디렉터리에 로그가 존재
  - 유닉스 로그의 종류
    - sudo: 가장 중요
    - utmp: 가장 기본적인 로그, 로그인 계정의 형식, 로그오프 여부, 시간에 대한 저장 구조 확인
    - wtmp: utmp 데목과 비슷하게 사용자 로그인과 로그아웃, 시스템 재부팅에 대한 정보 확인 가능
    - secure(sulog)
    - history
    - syslog: 시스템 운영과 관련한 전반적인 로그
### 데이터베이스의 로그 관리
- MS-SQL의 로그
- MySQL의 로그
  - Error, General, Slow Query, Birnary, Relay
  - General 로그의 경우, 현재 설정을 확인
  - General 로그는 설정 해제 가능
- Oracle의 로그
  - AUDIT_TRAIL 설정
    - OS단이나 DB단에 남길 지 설정 가능
  - 각각의 감사는 감사 뷰를 통해 확인
 - 데이터베이스 모니터링
   - 네트워크 트래픽을 모니터링할 수 있는 태핑 장비를 네트워크에 설치
   - 네트워크 패킷 중에서 데이터베이스 질의문을 확인하여 이를 로그로 남김
### 응용 프로그램의 로그 관리
- IIS 웹 서버의 로그
  - 제어판의 로깅 항목에서 확인
  - 실제 로그는 디렉터리에 남음
- 아파치 웹 서버의 로그
  - 403 Error는 권한이 없음을 의미
### 네트워크 장비의 로그 관리
- 로그 서버: 로그 서버를 별도로 운영하면 네트워크 장비에 침투하더라도 흔적을 지우기 쉽지 않음
## 5. 네트워크 패킷 분석
