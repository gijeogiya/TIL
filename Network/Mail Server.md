# Mail Server
## Mail Protocol
- SMTP(Simple Mail Transfer Protocol), TCP 25
  - 메일을 주고받을 때 사용하는 프로토콜(클라이언트 -> 서버, 서버 -> 서버)
- POP3(Post Office Protocol version 3), TCP 110
  - 메일 서버에 수신된 메일을 클라이언트로 가져올 때 사용(클라이언트에만 메일 저장)
- IMAP(Internet Mail Access Protocol), TCP 143
  - POP3와 동일하게 수신된 메일을 클라이언트로 가져올 때 사용(서버, 클라이언트 모두 메일 저장)
### POP3와 IMAP의 차이점
- 메일을 저장하는데 차이점이 있다.
- POP3의 경우 메일 서버에 메일을 저장하지 않고 클라이언트에만 저장하고 IMAP의 경우 서버와 클라이언트에 모두 메일을 저장한다.
- POP3를 사용하는 경우 IMAP에 비해 서버에 무리가 가지 않지만 사용하고 있는 클라이언트에만 메일이 보관되기 때문에 클라이언트 관리를 중요하게 해야한다.
## Mail 송수신 동작 과정
- 웹 메일을 사용하는 경우 POP3 혹은 IMAP을 사용하지 않지만 클라이언트까지 사용한다는 가정하에 동작과정을 살펴보자.
![image](https://github.com/user-attachments/assets/1ec8875f-abdb-48ec-820f-bdcf60977c39)
1. A라는 사용자는 평상시에 아웃룩(클라이언트)을 이용하여 메일을 보내고 클라이언트에만 메일을 저장(POP3)하여 사용하고 있다. A는 아웃룩(클라이언트를) 이용하여 B(B@메일서버 2)에게 메일을 보낸다.(SMTP)
2. 메일 서버 1은 A가 보낸 메일을 받아 메일 서버 2로 전송한다.(SMTP)
3. 메일 서버 2에서는 메일 서버 1에서 A가 보내온 메일을 수신한다.(SMTP)
4. B라는 사용자도 아웃룩(클라이언트)을 이용하고 있고 서버와 클라이언트에 메일을 모두 저장(IMAP)하고 있다. 클라이언트에서 설정에 따라 메일을 동기화하하여 A(A@메일서버 1)가 보내온 메일을 확인할 수 있다.
